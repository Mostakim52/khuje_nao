<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Khuje_nao: app.views Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Khuje_nao
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceapp.html">app</a></li><li class="navelem"><a class="el" href="namespaceapp_1_1views.html">views</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">app.views Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac00a06eb73c0b5e5197d7f41f8f6d874" id="r_ac00a06eb73c0b5e5197d7f41f8f6d874"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac00a06eb73c0b5e5197d7f41f8f6d874">allowed_file</a> (filename)</td></tr>
<tr class="separator:ac00a06eb73c0b5e5197d7f41f8f6d874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a422ab11fdc758b5002fa029fa22e7bb4" id="r_a422ab11fdc758b5002fa029fa22e7bb4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a422ab11fdc758b5002fa029fa22e7bb4">create_user</a> ()</td></tr>
<tr class="separator:a422ab11fdc758b5002fa029fa22e7bb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a857319493c153fec2edba37e9eb2c736" id="r_a857319493c153fec2edba37e9eb2c736"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a857319493c153fec2edba37e9eb2c736">login</a> ()</td></tr>
<tr class="separator:a857319493c153fec2edba37e9eb2c736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3e7aa7165ad8c5169fe5d621bea34a8" id="r_ae3e7aa7165ad8c5169fe5d621bea34a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3e7aa7165ad8c5169fe5d621bea34a8">signup</a> ()</td></tr>
<tr class="separator:ae3e7aa7165ad8c5169fe5d621bea34a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ffb428c6387d294ee15227b73492a92" id="r_a8ffb428c6387d294ee15227b73492a92"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ffb428c6387d294ee15227b73492a92">uploaded_file</a> (filename)</td></tr>
<tr class="separator:a8ffb428c6387d294ee15227b73492a92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a245dd0bb5df1066a90bb57012f53dc6c" id="r_a245dd0bb5df1066a90bb57012f53dc6c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a245dd0bb5df1066a90bb57012f53dc6c">report_lost_item</a> ()</td></tr>
<tr class="separator:a245dd0bb5df1066a90bb57012f53dc6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2191117abf06bad52c9db5a69369b9a9" id="r_a2191117abf06bad52c9db5a69369b9a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2191117abf06bad52c9db5a69369b9a9">get_lost_items</a> ()</td></tr>
<tr class="separator:a2191117abf06bad52c9db5a69369b9a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d0c0b9c5161c988f29811d995e7fb6" id="r_af5d0c0b9c5161c988f29811d995e7fb6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af5d0c0b9c5161c988f29811d995e7fb6">report_found_item</a> ()</td></tr>
<tr class="separator:af5d0c0b9c5161c988f29811d995e7fb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a322978c3c7af7dadab42878654c20cc1" id="r_a322978c3c7af7dadab42878654c20cc1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a322978c3c7af7dadab42878654c20cc1">mark_item_as_found</a> (item_id)</td></tr>
<tr class="separator:a322978c3c7af7dadab42878654c20cc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f2041ed8e0aaf5c203142f4d9a5e5ee" id="r_a9f2041ed8e0aaf5c203142f4d9a5e5ee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f2041ed8e0aaf5c203142f4d9a5e5ee">get_found_items</a> ()</td></tr>
<tr class="separator:a9f2041ed8e0aaf5c203142f4d9a5e5ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27cdbd80e9488b2ead9e182df644d29f" id="r_a27cdbd80e9488b2ead9e182df644d29f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a27cdbd80e9488b2ead9e182df644d29f">activity_feed</a> ()</td></tr>
<tr class="separator:a27cdbd80e9488b2ead9e182df644d29f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5230f1c0b78e267e6810c94e77b3fd3b" id="r_a5230f1c0b78e267e6810c94e77b3fd3b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5230f1c0b78e267e6810c94e77b3fd3b">generate_otp</a> ()</td></tr>
<tr class="separator:a5230f1c0b78e267e6810c94e77b3fd3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad656b58adbad6b81a8fe77f5baa01be4" id="r_ad656b58adbad6b81a8fe77f5baa01be4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad656b58adbad6b81a8fe77f5baa01be4">send_otp_email</a> (to_email, otp)</td></tr>
<tr class="separator:ad656b58adbad6b81a8fe77f5baa01be4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afda9c2cf94cfbc8ff246ba8aacc9aa1a" id="r_afda9c2cf94cfbc8ff246ba8aacc9aa1a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afda9c2cf94cfbc8ff246ba8aacc9aa1a">send_message</a> ()</td></tr>
<tr class="separator:afda9c2cf94cfbc8ff246ba8aacc9aa1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b641d7654c086d9a397f5941c488f94" id="r_a7b641d7654c086d9a397f5941c488f94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7b641d7654c086d9a397f5941c488f94">get_messages</a> ()</td></tr>
<tr class="separator:a7b641d7654c086d9a397f5941c488f94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5358bc7cc3a20e0d8867d42c2c55c1a" id="r_ac5358bc7cc3a20e0d8867d42c2c55c1a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac5358bc7cc3a20e0d8867d42c2c55c1a">send_otp</a> ()</td></tr>
<tr class="separator:ac5358bc7cc3a20e0d8867d42c2c55c1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d986a8d0acfaea5573bc5872fc0ba43" id="r_a0d986a8d0acfaea5573bc5872fc0ba43"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0d986a8d0acfaea5573bc5872fc0ba43">verify_otp</a> ()</td></tr>
<tr class="separator:a0d986a8d0acfaea5573bc5872fc0ba43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa885eb84e30cc7447b78ebdb0947e528" id="r_aa885eb84e30cc7447b78ebdb0947e528"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa885eb84e30cc7447b78ebdb0947e528">get_chats</a> ()</td></tr>
<tr class="separator:aa885eb84e30cc7447b78ebdb0947e528"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53c854a87216379b9a3fc39239ca79da" id="r_a53c854a87216379b9a3fc39239ca79da"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a53c854a87216379b9a3fc39239ca79da">search_lost_items</a> ()</td></tr>
<tr class="separator:a53c854a87216379b9a3fc39239ca79da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58b48e8be6a274df63cdd97e0fbd3406" id="r_a58b48e8be6a274df63cdd97e0fbd3406"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a58b48e8be6a274df63cdd97e0fbd3406">send_lost_item_email</a> (to_email, lost_items_count)</td></tr>
<tr class="separator:a58b48e8be6a274df63cdd97e0fbd3406"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa05623cb4c0e03de7ca301201d87685c" id="r_aa05623cb4c0e03de7ca301201d87685c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa05623cb4c0e03de7ca301201d87685c">send_lost_items_email</a> ()</td></tr>
<tr class="separator:aa05623cb4c0e03de7ca301201d87685c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c2e492bae70a02d497572b522155919" id="r_a3c2e492bae70a02d497572b522155919"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c2e492bae70a02d497572b522155919">approve_item</a> (item_id)</td></tr>
<tr class="separator:a3c2e492bae70a02d497572b522155919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cf5b656c34268d6eab39b7ca16fe918" id="r_a0cf5b656c34268d6eab39b7ca16fe918"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0cf5b656c34268d6eab39b7ca16fe918">get_lost_items_admin</a> ()</td></tr>
<tr class="separator:a0cf5b656c34268d6eab39b7ca16fe918"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0fe5d51a1aaf6cbbbc05527fc127c11f" id="r_a0fe5d51a1aaf6cbbbc05527fc127c11f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0fe5d51a1aaf6cbbbc05527fc127c11f">main_bp</a> = Blueprint(&quot;main&quot;, __name__)</td></tr>
<tr class="separator:a0fe5d51a1aaf6cbbbc05527fc127c11f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ac2a860f5768536e463820f6d068aad" id="r_a0ac2a860f5768536e463820f6d068aad"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ac2a860f5768536e463820f6d068aad">ALLOWED_EXTENSIONS</a> = {'png', 'jpg', 'jpeg'}</td></tr>
<tr class="separator:a0ac2a860f5768536e463820f6d068aad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b90fac8ec22b313bd9d85ebaa7b50d1" id="r_a9b90fac8ec22b313bd9d85ebaa7b50d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9b90fac8ec22b313bd9d85ebaa7b50d1">sg</a> = sendgrid.SendGridAPIClient(api_key=os.getenv(&quot;SENDGRID_API_KEY&quot;))</td></tr>
<tr class="separator:a9b90fac8ec22b313bd9d85ebaa7b50d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a102113e9a88c80ecf096474313074e8f" id="r_a102113e9a88c80ecf096474313074e8f"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a102113e9a88c80ecf096474313074e8f">otp_storage</a> = {}</td></tr>
<tr class="separator:a102113e9a88c80ecf096474313074e8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a27cdbd80e9488b2ead9e182df644d29f" name="a27cdbd80e9488b2ead9e182df644d29f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27cdbd80e9488b2ead9e182df644d29f">&#9670;&#160;</a></span>activity_feed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.activity_feed </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Endpoint to retrieve a feed of recent lost items.

This endpoint returns a paginated list of recent lost items. It includes an optional `limit` 
query parameter for pagination.

@return: JSON response with activity feed.
</pre> 
</div>
</div>
<a id="ac00a06eb73c0b5e5197d7f41f8f6d874" name="ac00a06eb73c0b5e5197d7f41f8f6d874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac00a06eb73c0b5e5197d7f41f8f6d874">&#9670;&#160;</a></span>allowed_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.allowed_file </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>filename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Checks if the file extension is allowed.

@param filename: The name of the file to check.
@return: True if the file extension is allowed, otherwise False.
</pre> 
</div>
</div>
<a id="a3c2e492bae70a02d497572b522155919" name="a3c2e492bae70a02d497572b522155919"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c2e492bae70a02d497572b522155919">&#9670;&#160;</a></span>approve_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.approve_item </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>item_id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Endpoint to approve a lost item.

This endpoint accepts an `item_id` and updates the item to mark it as approved.

@param item_id: The ID of the lost item to approve.

@return: JSON response indicating the result of the approval operation.
</pre> 
</div>
</div>
<a id="a422ab11fdc758b5002fa029fa22e7bb4" name="a422ab11fdc758b5002fa029fa22e7bb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a422ab11fdc758b5002fa029fa22e7bb4">&#9670;&#160;</a></span>create_user()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.create_user </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Endpoint to create a new user.

This endpoint expects a JSON body with `username`, `email`, and `password`. 
It checks if the user already exists by email. If not, it hashes the password 
and creates the user in the database.

@return: JSON response with success message or error.
</pre> 
</div>
</div>
<a id="a5230f1c0b78e267e6810c94e77b3fd3b" name="a5230f1c0b78e267e6810c94e77b3fd3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5230f1c0b78e267e6810c94e77b3fd3b">&#9670;&#160;</a></span>generate_otp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.generate_otp </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Generates a 6-digit One-Time Password (OTP).

@return: A randomly generated 6-digit OTP.
</pre> 
</div>
</div>
<a id="aa885eb84e30cc7447b78ebdb0947e528" name="aa885eb84e30cc7447b78ebdb0947e528"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa885eb84e30cc7447b78ebdb0947e528">&#9670;&#160;</a></span>get_chats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.get_chats </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Endpoint to retrieve all chats for a user.

This endpoint expects a JSON body with `user_id`, representing the current user. 
It returns a list of chats where the user is either the author or receiver of messages.

@return: JSON response with the list of chats.
</pre> 
</div>
</div>
<a id="a9f2041ed8e0aaf5c203142f4d9a5e5ee" name="a9f2041ed8e0aaf5c203142f4d9a5e5ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f2041ed8e0aaf5c203142f4d9a5e5ee">&#9670;&#160;</a></span>get_found_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.get_found_items </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Endpoint to retrieve found items.

This endpoint returns a paginated list of found items. It includes optional `limit` and `skip` 
query parameters for pagination. If an item has an image, the image URL is also included.

@return: JSON response with list of found items.
</pre> 
</div>
</div>
<a id="a2191117abf06bad52c9db5a69369b9a9" name="a2191117abf06bad52c9db5a69369b9a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2191117abf06bad52c9db5a69369b9a9">&#9670;&#160;</a></span>get_lost_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.get_lost_items </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Endpoint to retrieve lost items.

This endpoint returns a paginated list of lost items. It includes optional `limit` and `skip` 
query parameters for pagination. If an item has an image, the image URL is also included.

@return: JSON response with list of lost items.
</pre> 
</div>
</div>
<a id="a0cf5b656c34268d6eab39b7ca16fe918" name="a0cf5b656c34268d6eab39b7ca16fe918"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cf5b656c34268d6eab39b7ca16fe918">&#9670;&#160;</a></span>get_lost_items_admin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.get_lost_items_admin </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Endpoint to retrieve a list of lost items for the admin.

This endpoint returns a paginated list of lost items, with optional `limit` and `skip` query parameters.

@return: JSON response with the list of lost items for the admin.
</pre> 
</div>
</div>
<a id="a7b641d7654c086d9a397f5941c488f94" name="a7b641d7654c086d9a397f5941c488f94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b641d7654c086d9a397f5941c488f94">&#9670;&#160;</a></span>get_messages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.get_messages </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Endpoint to retrieve messages between two users.

This endpoint expects a JSON body with `author_id` and `receiver_id`. 
It returns a paginated list of messages with optional `limit` and `skip` query parameters.

@return: JSON response with the list of messages.
</pre> 
</div>
</div>
<a id="a857319493c153fec2edba37e9eb2c736" name="a857319493c153fec2edba37e9eb2c736"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a857319493c153fec2edba37e9eb2c736">&#9670;&#160;</a></span>login()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.login </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Endpoint for user login.

This endpoint expects a JSON body with `email` and `password`. It checks if the user exists 
and if the provided password matches. If successful, it returns a success message.

@return: JSON response with login success message or error.
</pre> 
</div>
</div>
<a id="a322978c3c7af7dadab42878654c20cc1" name="a322978c3c7af7dadab42878654c20cc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a322978c3c7af7dadab42878654c20cc1">&#9670;&#160;</a></span>mark_item_as_found()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.mark_item_as_found </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>item_id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Endpoint to mark a lost item as found.

This endpoint moves the item from the `lost_items` collection to the `found_items` collection.

@param item_id: The ID of the lost item to mark as found.
@return: JSON response with success message or error.
</pre> 
</div>
</div>
<a id="af5d0c0b9c5161c988f29811d995e7fb6" name="af5d0c0b9c5161c988f29811d995e7fb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5d0c0b9c5161c988f29811d995e7fb6">&#9670;&#160;</a></span>report_found_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.report_found_item </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Endpoint to report a found item.

This endpoint accepts a JSON body with the description, location, and image path of the found item.
It saves the found item in the database.

@return: JSON response with success message or error.
</pre> 
</div>
</div>
<a id="a245dd0bb5df1066a90bb57012f53dc6c" name="a245dd0bb5df1066a90bb57012f53dc6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a245dd0bb5df1066a90bb57012f53dc6c">&#9670;&#160;</a></span>report_lost_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.report_lost_item </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Endpoint to report a lost item.

This endpoint accepts form data to report a lost item. It handles image uploads, 
validates required fields, and saves the lost item in the database.

@return: JSON response with success message or error.
</pre> 
</div>
</div>
<a id="a53c854a87216379b9a3fc39239ca79da" name="a53c854a87216379b9a3fc39239ca79da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53c854a87216379b9a3fc39239ca79da">&#9670;&#160;</a></span>search_lost_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.search_lost_items </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Endpoint to search for lost items.

This endpoint performs a text search on the `description` field of lost items and returns 
the matching items. It accepts a `query` parameter.

@return: JSON response with the list of lost items that match the search query.
</pre> 
</div>
</div>
<a id="a58b48e8be6a274df63cdd97e0fbd3406" name="a58b48e8be6a274df63cdd97e0fbd3406"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58b48e8be6a274df63cdd97e0fbd3406">&#9670;&#160;</a></span>send_lost_item_email()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.send_lost_item_email </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>to_email</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>lost_items_count</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Sends a notification email about the number of lost items.

@param to_email: The recipient's email address.
@param lost_items_count: The number of lost items to report.
</pre> 
</div>
</div>
<a id="aa05623cb4c0e03de7ca301201d87685c" name="aa05623cb4c0e03de7ca301201d87685c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa05623cb4c0e03de7ca301201d87685c">&#9670;&#160;</a></span>send_lost_items_email()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.send_lost_items_email </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Endpoint to send a notification email about lost items to all users.

This endpoint fetches the count of lost items and sends an email to all registered users
notifying them of the number of lost items.
</pre> 
</div>
</div>
<a id="afda9c2cf94cfbc8ff246ba8aacc9aa1a" name="afda9c2cf94cfbc8ff246ba8aacc9aa1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afda9c2cf94cfbc8ff246ba8aacc9aa1a">&#9670;&#160;</a></span>send_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.send_message </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Endpoint to send a message.

This endpoint expects a JSON body with `text`, `author_id`, and `created_at`. 
It validates the input and stores the message in the database.

@return: JSON response with the `message_id` of the created message.
</pre> 
</div>
</div>
<a id="ac5358bc7cc3a20e0d8867d42c2c55c1a" name="ac5358bc7cc3a20e0d8867d42c2c55c1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5358bc7cc3a20e0d8867d42c2c55c1a">&#9670;&#160;</a></span>send_otp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.send_otp </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Endpoint to send an OTP to the user's email.

This endpoint expects a JSON body with the user's `email`. 
It generates and sends an OTP to the provided email address.

@return: JSON response indicating whether the OTP was sent successfully.
</pre> 
</div>
</div>
<a id="ad656b58adbad6b81a8fe77f5baa01be4" name="ad656b58adbad6b81a8fe77f5baa01be4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad656b58adbad6b81a8fe77f5baa01be4">&#9670;&#160;</a></span>send_otp_email()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.send_otp_email </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>to_email</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>otp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Sends an OTP to the specified email address using SendGrid API.

@param to_email: The recipient's email address.
@param otp: The OTP to be sent in the email.
</pre> 
</div>
</div>
<a id="ae3e7aa7165ad8c5169fe5d621bea34a8" name="ae3e7aa7165ad8c5169fe5d621bea34a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3e7aa7165ad8c5169fe5d621bea34a8">&#9670;&#160;</a></span>signup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.signup </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Endpoint to sign up a new user.

This endpoint expects a JSON body with `name`, `email`, `phone_number`, `password`, and `nsu_id`.
It validates the input and checks for the existence of the email and NSU ID. If valid, it hashes
the password and creates the user.

@return: JSON response with success message or error.
</pre> 
</div>
</div>
<a id="a8ffb428c6387d294ee15227b73492a92" name="a8ffb428c6387d294ee15227b73492a92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ffb428c6387d294ee15227b73492a92">&#9670;&#160;</a></span>uploaded_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.uploaded_file </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>filename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Endpoint to serve uploaded files.

This endpoint returns the file from the upload directory.

@param filename: The name of the file to retrieve.
@return: The requested file.
</pre> 
</div>
</div>
<a id="a0d986a8d0acfaea5573bc5872fc0ba43" name="a0d986a8d0acfaea5573bc5872fc0ba43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d986a8d0acfaea5573bc5872fc0ba43">&#9670;&#160;</a></span>verify_otp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.verify_otp </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Endpoint to verify the OTP entered by the user.

This endpoint expects a JSON body with `email` and `otp`. 
It checks whether the OTP is correct and has not expired.

@return: JSON response indicating whether the OTP was successfully verified.
</pre> 
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a0ac2a860f5768536e463820f6d068aad" name="a0ac2a860f5768536e463820f6d068aad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ac2a860f5768536e463820f6d068aad">&#9670;&#160;</a></span>ALLOWED_EXTENSIONS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict app.views.ALLOWED_EXTENSIONS = {'png', 'jpg', 'jpeg'}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0fe5d51a1aaf6cbbbc05527fc127c11f" name="a0fe5d51a1aaf6cbbbc05527fc127c11f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fe5d51a1aaf6cbbbc05527fc127c11f">&#9670;&#160;</a></span>main_bp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.main_bp = Blueprint(&quot;main&quot;, __name__)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a102113e9a88c80ecf096474313074e8f" name="a102113e9a88c80ecf096474313074e8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a102113e9a88c80ecf096474313074e8f">&#9670;&#160;</a></span>otp_storage</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict app.views.otp_storage = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9b90fac8ec22b313bd9d85ebaa7b50d1" name="a9b90fac8ec22b313bd9d85ebaa7b50d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b90fac8ec22b313bd9d85ebaa7b50d1">&#9670;&#160;</a></span>sg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.sg = sendgrid.SendGridAPIClient(api_key=os.getenv(&quot;SENDGRID_API_KEY&quot;))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
